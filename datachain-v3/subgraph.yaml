specVersion: 0.0.5
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum
    name: L2StorageManager
    network: datachain-sepolia
    source:
      address: "0x71cE95e8831589b29a12d58A1768029E1b7aa882"
      abi: L2StorageManager
      startBlock: 3705562
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - Admin
        - Manager
        - ApprovalPower
        - ApprovalThreshold
      abis:
        - name: L2StorageManager
          file: ./abis/L2StorageManager.json
      eventHandlers:
        - event: AdminChanged(indexed address,bool)
          handler: handleAdminChanged
        - event: ManagerChanged(indexed address,bool)
          handler: handleManagerChanged
        - event: ApprovalPowerChanged(indexed address,uint256)
          handler: handleApprovalPowerChanged
        - event: ApprovalThresholdChanged(uint256)
          handler: handleApprovalThresholdChanged
      file: ./src/manager_mapping.ts

  - kind: ethereum
    name: AddressStorage
    network: datachain-sepolia
    source:
      address: "0x3Cc7861C44d5781b065753F5caE769Bdfcd90b0A"
      abi: AddressStorage
      startBlock: 3705562
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - Address
      abis:
        - name: AddressStorage
          file: ./abis/AddressStorage.json
      eventHandlers:
        - event: AddressDataChanged(uint256,string,string,uint256)
          handler: handleAddressDataChanged
      file: ./src/address_mapping.ts

  - kind: ethereum
    name: ListStorage
    network: datachain-sepolia
    source:
      address: "0xD1dcc73229f3208E5aD989fB5600BaC681b1b5c3"
      abi: ListStorage
      startBlock: 3705562
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - List
        - Sublist
      abis:
        - name: ListStorage
          file: ./abis/ListStorage.json
      eventHandlers:
        - event: ListCreated(indexed uint256,indexed address,string,string,string)
          handler: handleListCreated
        - event: ListUpdated(indexed uint256,string,string,uint256)
          handler: handleListUpdated
        - event: SublistCreated(indexed uint256,indexed address,string,string)
          handler: handleSublistCreated
        - event: SublistUpdated(indexed uint256,string,string,uint256)
          handler: handleSublistUpdated
      file: ./src/list_mapping.ts

  - kind: ethereum
    name: TokenStorage
    network: datachain-sepolia
    source:
      address: "0x06EADDb0e0B53EDdDB8Ea8A9D31bf758147347C0"
      abi: TokenStorage
      startBlock: 3705562
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - Token
        - ProposedUpdate
      abis:
        - name: TokenStorage
          file: ./abis/TokenStorage.json
      eventHandlers:
        - event: TokenDataChanged(indexed uint256,string,string,uint256)
          handler: handleTokenDataChanged
        - event: UpdateProposed(indexed uint256,indexed uint256,string,string,uint256)
          handler: handleUpdateProposed
        - event: UpdateApproved(indexed uint256,indexed uint256)
          handler: handleUpdateApproved
      file: ./src/token_mapping.ts

  - kind: ethereum
    name: UserStorage
    network: datachain-sepolia
    source:
      address: "0xe78809FdE5C875Cdd5318d66412b6856a24B206e"
      abi: UserStorage
      startBlock: 3705562
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - User
      abis:
        - name: UserStorage
          file: ./abis/UserStorage.json
      eventHandlers:
        - event: UserDataChanged(uint256,string,string,uint256)
          handler: handleUserDataChanged
      file: ./src/user_mapping.ts

  - kind: ethereum
    name: ValidationStorage
    network: datachain-sepolia
    source:
      address: "0xb15BCA27e818CFE80279dF4dEDebE210cb6099D1"
      abi: ValidationStorage
      startBlock: 3705562
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - Validation
      abis:
        - name: ValidationStorage
          file: ./abis/ValidationStorage.json
      eventHandlers:
        - event: ValidationDataChanged(uint256,string,string,uint256)
          handler: handleValidationDataChanged
      file: ./src/validation_mapping.ts
